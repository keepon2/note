# 目录

## DHCP
**服务器给客户端分配IP地址**

基于UDP，68（客户端）和67（服务器）端口  

|四个阶段|流程|
|---|---|
|发现阶段|客户端寻找服务器（广播）
|提供阶段|服务器（提供） -> IP地址
|选择阶段|客户端（选择） -> 服务器（提供）IP地址
|确认阶段|服务器（确认） -> 客户端

```sh
DHCP Message Type
1.Discover(客户端请求包)
2.Offer(服务器响应包)
3.Request(客户端选择包)
4.ACK(服务器确认包)
----------------------
5.Nak(服务器拒绝包)
6.Release(客户端释放包)
7.Decline
8.Inform
```

为什么DHCP能动态分配IP？  
DHCP服务器为客户端分配IP地址的优先次序如下:  
1.与客户端 MAC 地址或客户端 ID 静态绑定的 IP 地址;  
2.DHCP 服务器记录的曾经分配给客户端的 IP 地址;  
3.客户端发送的 DHCP-DISCOVER 报文中 Option 50 字段指定的 IP 地址;  
4.在 DHCP 地址池中，顺序査找可供分配的 IP 地址，最先找到的 IP 地址;  
5.如果未找到可用的 IP 地址，则依次査询租约过期、曾经发生过冲突的 IP 地址，
如果找到则进行分配，否则将不予处理。 

# DNS
**域名 <——> IP（互转）**
![alt text](image.png)

```sh
域名是一个树状结构
![alt text](image-1.png)
根域名(.)
顶级域名(.com/.net/.cn/.us)
一级域名(baidu.com)
二级域名(含www)
三级域名
```